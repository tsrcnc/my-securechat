(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[635],{63:(e,a,s)=>{"use strict";var t=s(7260);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}}),s.o(t,"useSearchParams")&&s.d(a,{useSearchParams:function(){return t.useSearchParams}})},3855:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(5155),n=s(2115),l=s(63),r=s(2619),o=s.n(r);function i(){let e=(0,l.useRouter)(),[a,s]=(0,n.useState)({domainName:"",ownerEmail:"",companyName:"",contactPhone:""}),[r,i]=(0,n.useState)(""),[d,c]=(0,n.useState)(!1),[m,x]=(0,n.useState)(!1),u=async s=>{if(s.preventDefault(),i(""),x(!0),!/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}$/.test(a.domainName)){i("Invalid domain format. Please enter a valid domain name (e.g., example.com)."),x(!1);return}try{let s=await fetch("".concat("http://localhost:5000","/api/domains/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await s.json();if(!s.ok){if(200===s.status&&t.success){c(!0),setTimeout(()=>{e.push("/domain-verify?domain=".concat(a.domainName))},2e3);return}throw Error(t.message||"Registration failed")}c(!0),setTimeout(()=>{e.push("/domain-verify?domain=".concat(a.domainName))},2e3)}catch(e){i(e.message)}finally{x(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-slate-50 text-slate-900 font-sans flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"w-12 h-12 bg-brand-700 rounded-xl flex items-center justify-center font-bold text-2xl text-white shadow-lg shadow-brand-700/20",children:"S"})}),(0,t.jsx)("h2",{className:"text-center text-3xl font-heading font-bold tracking-tight text-slate-900",children:"Register Your Domain"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-slate-500",children:"Enable secure messaging for your organization"})]}),(0,t.jsxs)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs font-bold text-slate-500 uppercase tracking-wider mb-2",children:[(0,t.jsx)("span",{className:"text-brand-700",children:"Step 1 of 3"}),(0,t.jsx)("span",{children:"Register Domain"})]}),(0,t.jsx)("div",{className:"h-2 bg-slate-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-brand-600 w-1/3 rounded-full"})})]}),(0,t.jsxs)("div",{className:"bg-white py-8 px-4 shadow-xl shadow-slate-200/50 sm:rounded-2xl sm:px-10 border border-slate-100",children:[(0,t.jsxs)("form",{className:"space-y-6",onSubmit:u,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"domainName",className:"block text-sm font-semibold text-slate-700",children:"Domain Name"}),(0,t.jsx)("div",{className:"mt-1 relative rounded-md shadow-sm",children:(0,t.jsx)("input",{id:"domainName",name:"domainName",type:"text",required:!0,placeholder:"e.g., acme.com",className:"appearance-none block w-full px-4 py-3 border rounded-xl bg-slate-50 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent sm:text-sm transition-all ".concat(r&&r.includes("domain")?"border-red-300 focus:ring-red-500":"border-slate-200"),value:a.domainName,onChange:e=>{s({...a,domainName:e.target.value}),r&&i("")},onBlur:()=>{a.domainName&&(/^[a-zA-Z0-9][a-zA-Z0-9-]{1,61}[a-zA-Z0-9]\.[a-zA-Z]{2,}$/.test(a.domainName)||i("Invalid domain format. Please enter a valid domain name (e.g., example.com)."))},suppressHydrationWarning:!0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"ownerEmail",className:"block text-sm font-semibold text-slate-700",children:"Administrator Email"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"ownerEmail",name:"ownerEmail",type:"email",required:!0,placeholder:"admin@acme.com",className:"appearance-none block w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent sm:text-sm transition-all",value:a.ownerEmail,onChange:e=>s({...a,ownerEmail:e.target.value}),suppressHydrationWarning:!0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"companyName",className:"block text-sm font-semibold text-slate-700",children:"Company Name"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"companyName",name:"companyName",type:"text",placeholder:"Acme Corp",className:"appearance-none block w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent sm:text-sm transition-all",value:a.companyName,onChange:e=>s({...a,companyName:e.target.value}),suppressHydrationWarning:!0})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"contactPhone",className:"block text-sm font-semibold text-slate-700",children:"Contact Phone (Optional)"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"contactPhone",name:"contactPhone",type:"tel",placeholder:"+1 (555) 000-0000",className:"appearance-none block w-full px-4 py-3 border border-slate-200 rounded-xl bg-slate-50 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-brand-500 focus:border-transparent sm:text-sm transition-all",value:a.contactPhone,onChange:e=>s({...a,contactPhone:e.target.value}),suppressHydrationWarning:!0})})]}),r&&(0,t.jsx)("div",{className:"rounded-xl bg-red-50 border border-red-100 p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Registration Error"}),(0,t.jsx)("div",{className:"mt-1 text-sm text-red-600",children:r})]})]})}),d&&(0,t.jsx)("div",{className:"rounded-xl bg-green-50 border border-green-100 p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-green-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Success! Redirecting to verification..."})})]})}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:m||d,className:"w-full flex justify-center py-3.5 px-4 border border-transparent rounded-xl shadow-lg shadow-brand-700/20 text-sm font-bold text-white bg-brand-700 hover:bg-brand-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-500 transition-all transform hover:-translate-y-0.5 ".concat(m||d?"opacity-75 cursor-not-allowed":""),suppressHydrationWarning:!0,children:m?"Processing...":"Register Domain"})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-slate-200"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-slate-500",children:"Already registered?"})})]}),(0,t.jsx)("div",{className:"mt-6 grid grid-cols-1 gap-3",children:(0,t.jsx)(o(),{href:"/login",className:"w-full inline-flex justify-center py-3 px-4 border border-slate-200 rounded-xl shadow-sm bg-white text-sm font-medium text-slate-700 hover:bg-slate-50 hover:text-brand-700 transition-colors",children:"Sign in to your account"})})]})]})]})}},5212:(e,a,s)=>{Promise.resolve().then(s.bind(s,3855))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=5212)),_N_E=e.O()}]);